<div class="tools-container">
    <div class="multiple-tools" *ngFor="let blockOfTools of blocksOfTools; let i = index"
         (mouseenter)="displayExtraToolsIndex = i"
         (mouseleave)="displayExtraToolsIndex = 99">
        <div *ngFor="let tool of blockOfTools">
            <div *ngIf="tool.displayed" class="tool" [class.active]="currentToolSelected === tool.name" (click)="onToolSelected(tool.name)">
                <span *ngIf="tool.name === 'pointer'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 489.8 489.8" style="enable-background:new 0 0 489.8 489.8;" xml:space="preserve">
                        <g>
                            <g>
                                <polygon points="489.8,192.4 0,0 192.4,489.8 237.9,311.4 402.7,476.2 476.2,402.7 311.4,237.9 		"/>
                            </g>
                        </g>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'hand'">
                    <svg width="20px" height="20px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.924 17.315c-.057.174-.193.367-.416.432-.161.047-5.488 1.59-5.652 1.633-.469.125-.795.033-1.009-.156-.326-.287-4.093-2.85-8.845-3.092-.508-.025-.259-1.951 1.193-1.951.995 0 3.904.723 4.255.371.271-.272.394-1.879-.737-4.683L4.438 4.232a1.045 1.045 0 0 1 1.937-.781L8.361 8.37c.193.48.431.662.69.562.231-.088.279-.242.139-.709L7.144 2.195A1.043 1.043 0 0 1 7.796.871a1.042 1.042 0 0 1 1.325.652l1.946 5.732c.172.504.354.768.642.646.173-.073.161-.338.115-.569l-1.366-5.471a1.045 1.045 0 1 1 2.027-.506l1.26 5.042c.184.741.353 1.008.646.935.299-.073.285-.319.244-.522l-.872-4.328a.95.95 0 0 1 1.86-.375l.948 4.711.001.001v.001l.568 2.825c.124.533.266 1.035.45 1.527 1.085 2.889.519 5.564.334 6.143z"/></svg>
                </span>
                <span *ngIf="tool.name === 'text'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 278 278" style="enable-background:new 0 0 278 278;" xml:space="preserve">
                        <path d="M254.833,0h-98.5h-33h-99.5C15.549,0,8.5,6.716,8.5,15v33c0,8.284,6.716,15,15,15s15-6.716,15-15V30h69v218H89.833
                            c-8.284,0-15,6.716-15,15s6.716,15,15,15h99c8.284,0,15-6.716,15-15s-6.716-15-15-15H170.5V30h69v18c0,8.284,6.716,15,15,15
                            s15-6.716,15-15V15C269.5,6.716,263.117,0,254.833,0z"/>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'brush'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 422.555 422.555" style="enable-background:new 0 0 422.555 422.555;" xml:space="preserve">
                        <g>
                            <path d="M419.061,11.643c-2.223-2.127-5.45-3.139-9.544-3.139c-32.927,0-122.005,65.392-196.859,141.77
                                c-42.696,43.557-64.478,74.066-72.961,96.074c6.455,2.162,13.001,5.199,19.671,9.167c5.219,3.105,10.092,6.77,14.468,10.88
                                c0.006,0.002,0.008,0.004,0.014,0.006c8.528,8.007,14.971,17.444,19.188,27.578c21.773-9.709,51.271-32.1,92.405-74.059
                                C369.608,134.048,439.164,30.877,419.061,11.643z"/>
                            <path d="M150.175,266.736c-11.455-6.818-22.257-10.794-32.808-12.057c-2.466-0.295-4.918-0.443-7.361-0.443
                                c-8.065,0-16.189,1.62-24.149,4.817c-30.825,12.389-33.835,41.568-36.491,67.315c-3.306,32.045-6.979,52.036-39.43,58.957
                                c-5.942,1.268-10.125,6.608-9.93,12.682c0.195,6.074,4.711,11.136,10.723,12.02c18.16,2.67,35.401,4.023,51.246,4.024
                                c0.004,0,0.007,0,0.011,0c34.558,0,63.052-6.296,84.689-18.712c19.855-11.393,33.144-27.572,38.43-46.788
                                c2.911-10.582,3.135-21.488,1.005-31.951C182.025,296.534,169.276,278.103,150.175,266.736z"/>
                        </g>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'eraser'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                        <path id="XMLID_85_" d="M315,285H201.214l124.393-124.394c5.858-5.857,5.858-15.355,0-21.213l-120-120
                            c-5.857-5.858-15.355-5.858-21.213,0l-180,179.999C1.58,202.205,0,206.02,0,209.999s1.58,7.794,4.394,10.607l90,90
                            c2.813,2.813,6.628,4.393,10.606,4.393L165,315c0.006,0,0.011-0.001,0.017-0.001L315,315c8.283,0,15-6.716,15-15
                            C330,291.716,323.284,285,315,285z M195,51.213L293.787,150L207,236.787L108.213,138L195,51.213z"/>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'patata'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                        <path id="XMLID_523_" d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15
                            C330,6.716,323.285,0,315,0z M300,300H30V30h270V300z"/>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'square'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                        <path id="XMLID_523_" d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15
                            C330,6.716,323.285,0,315,0z M300,300H30V30h270V300z"/>
                    </svg>
                </span>
                <span *ngIf="tool.name === 'image'">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <g>
                            <g>
                                <path d="M184.765,86.883c-27.619,0-50.087,22.468-50.087,50.087s22.468,50.087,50.087,50.087
                                    c27.619,0,50.087-22.468,50.087-50.087C234.852,109.351,212.384,86.883,184.765,86.883z"/>
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M461.913,0H50.087C22.468,0,0,22.468,0,50.087v411.826C0,489.532,22.468,512,50.087,512h411.826
                                    C489.532,512,512,489.532,512,461.913V50.087C512,22.468,489.532,0,461.913,0z M445.217,293.609l-88.368-88.37
                                    c-6.521-6.52-17.091-6.52-23.613,0L228.174,310.304l-60.544-54.979c-6.52-6.52-17.089-6.52-23.609,0L66.783,327V83.478
                                    c0-9.228,7.467-16.696,16.696-16.696h345.043c9.228,0,16.696,7.467,16.696,16.696V293.609z"/>
                            </g>
                        </g>
                    </svg>
                </span>
                <div *ngIf="blockOfTools.length > 1" class="triangle"></div>
                <input type="file" class="file" *ngIf="tool.name === 'image'" (change)="updateImage($event.target.files[0])">
            </div>
        </div>
        <div *ngIf="displayExtraToolsIndex === i">
            <div *ngFor="let tool of blockOfTools">
                <div *ngIf="!tool.displayed" class="extra-tools">
                    <div class="tool" [class.active]="currentToolSelected === tool.name" (click)="onToolSelected(tool.name)">
                        <span *ngIf="tool.name === 'pointer'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 489.8 489.8" style="enable-background:new 0 0 489.8 489.8;" xml:space="preserve">
                                <g>
                                    <g>
                                        <polygon points="489.8,192.4 0,0 192.4,489.8 237.9,311.4 402.7,476.2 476.2,402.7 311.4,237.9 		"/>
                                    </g>
                                </g>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'hand'">
                            <svg width="20px" height="20px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.924 17.315c-.057.174-.193.367-.416.432-.161.047-5.488 1.59-5.652 1.633-.469.125-.795.033-1.009-.156-.326-.287-4.093-2.85-8.845-3.092-.508-.025-.259-1.951 1.193-1.951.995 0 3.904.723 4.255.371.271-.272.394-1.879-.737-4.683L4.438 4.232a1.045 1.045 0 0 1 1.937-.781L8.361 8.37c.193.48.431.662.69.562.231-.088.279-.242.139-.709L7.144 2.195A1.043 1.043 0 0 1 7.796.871a1.042 1.042 0 0 1 1.325.652l1.946 5.732c.172.504.354.768.642.646.173-.073.161-.338.115-.569l-1.366-5.471a1.045 1.045 0 1 1 2.027-.506l1.26 5.042c.184.741.353 1.008.646.935.299-.073.285-.319.244-.522l-.872-4.328a.95.95 0 0 1 1.86-.375l.948 4.711.001.001v.001l.568 2.825c.124.533.266 1.035.45 1.527 1.085 2.889.519 5.564.334 6.143z"/></svg>
                        </span>
                        <span *ngIf="tool.name === 'text'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 278 278" style="enable-background:new 0 0 278 278;" xml:space="preserve">
                                <path d="M254.833,0h-98.5h-33h-99.5C15.549,0,8.5,6.716,8.5,15v33c0,8.284,6.716,15,15,15s15-6.716,15-15V30h69v218H89.833
                                    c-8.284,0-15,6.716-15,15s6.716,15,15,15h99c8.284,0,15-6.716,15-15s-6.716-15-15-15H170.5V30h69v18c0,8.284,6.716,15,15,15
                                    s15-6.716,15-15V15C269.5,6.716,263.117,0,254.833,0z"/>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'brush'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 422.555 422.555" style="enable-background:new 0 0 422.555 422.555;" xml:space="preserve">
                                <g>
                                    <path d="M419.061,11.643c-2.223-2.127-5.45-3.139-9.544-3.139c-32.927,0-122.005,65.392-196.859,141.77
                                        c-42.696,43.557-64.478,74.066-72.961,96.074c6.455,2.162,13.001,5.199,19.671,9.167c5.219,3.105,10.092,6.77,14.468,10.88
                                        c0.006,0.002,0.008,0.004,0.014,0.006c8.528,8.007,14.971,17.444,19.188,27.578c21.773-9.709,51.271-32.1,92.405-74.059
                                        C369.608,134.048,439.164,30.877,419.061,11.643z"/>
                                    <path d="M150.175,266.736c-11.455-6.818-22.257-10.794-32.808-12.057c-2.466-0.295-4.918-0.443-7.361-0.443
                                        c-8.065,0-16.189,1.62-24.149,4.817c-30.825,12.389-33.835,41.568-36.491,67.315c-3.306,32.045-6.979,52.036-39.43,58.957
                                        c-5.942,1.268-10.125,6.608-9.93,12.682c0.195,6.074,4.711,11.136,10.723,12.02c18.16,2.67,35.401,4.023,51.246,4.024
                                        c0.004,0,0.007,0,0.011,0c34.558,0,63.052-6.296,84.689-18.712c19.855-11.393,33.144-27.572,38.43-46.788
                                        c2.911-10.582,3.135-21.488,1.005-31.951C182.025,296.534,169.276,278.103,150.175,266.736z"/>
                                </g>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'eraser'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                                <path id="XMLID_85_" d="M315,285H201.214l124.393-124.394c5.858-5.857,5.858-15.355,0-21.213l-120-120
                                    c-5.857-5.858-15.355-5.858-21.213,0l-180,179.999C1.58,202.205,0,206.02,0,209.999s1.58,7.794,4.394,10.607l90,90
                                    c2.813,2.813,6.628,4.393,10.606,4.393L165,315c0.006,0,0.011-0.001,0.017-0.001L315,315c8.283,0,15-6.716,15-15
                                    C330,291.716,323.284,285,315,285z M195,51.213L293.787,150L207,236.787L108.213,138L195,51.213z"/>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'patata'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                                <path id="XMLID_523_" d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15
                                    C330,6.716,323.285,0,315,0z M300,300H30V30h270V300z"/>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'square'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve">
                                <path id="XMLID_523_" d="M315,0H15C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V15
                                    C330,6.716,323.285,0,315,0z M300,300H30V30h270V300z"/>
                            </svg>
                        </span>
                        <span *ngIf="tool.name === 'image'">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                <g>
                                    <g>
                                        <path d="M184.765,86.883c-27.619,0-50.087,22.468-50.087,50.087s22.468,50.087,50.087,50.087
                                            c27.619,0,50.087-22.468,50.087-50.087C234.852,109.351,212.384,86.883,184.765,86.883z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M461.913,0H50.087C22.468,0,0,22.468,0,50.087v411.826C0,489.532,22.468,512,50.087,512h411.826
                                            C489.532,512,512,489.532,512,461.913V50.087C512,22.468,489.532,0,461.913,0z M445.217,293.609l-88.368-88.37
                                            c-6.521-6.52-17.091-6.52-23.613,0L228.174,310.304l-60.544-54.979c-6.52-6.52-17.089-6.52-23.609,0L66.783,327V83.478
                                            c0-9.228,7.467-16.696,16.696-16.696h345.043c9.228,0,16.696,7.467,16.696,16.696V293.609z"/>
                                    </g>
                                </g>
                            </svg>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
