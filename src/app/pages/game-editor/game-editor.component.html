<div class="game-editor">
    <div *ngIf="game?.maps[0]" class="map-container">
        <app-map [map]="game.maps[0]"></app-map>
    </div>
    <div class="top-column">
        <button *ngIf="gameStartStatus === 2" (click)="onToggleGameStatus(0)">
            <i class="far fa-play-circle"></i>
            START GAME
        </button>
        <button *ngIf="gameStartStatus === 0" (click)="onToggleGameStatus(2)">
            <i class="far fa-pause-circle"></i>
            PAUSE GAME
        </button>
    </div>

    <div class="left-column">
        <div class="tabs adjust">
            <div class="tab" [class.active]="tabs == 0" (click)="tabs = 0">Objects</div>
            <div class="tab" [class.active]="tabs == 1" (click)="tabs = 1">Libraries</div>
        </div>
        <div class="left-column-content">
            <ng-container *ngIf="tabs == 0">
                <app-maps-list *ngIf="game?.maps" [maps]="game.maps"
                               (mapsChanges)="onMapsChange($event)"
                               (newMapEvent)="onNewMap($event)"
                               (removeMapEvent)="onRemoveMap($event)"
                               (renameMapEvent)="onRenameMap($event)"
                               (toPlayersMapEvent)="onToPlayersMap($event)"
                               (selectedMap)="onSelectedMap($event)"></app-maps-list>
            </ng-container>
            <ng-container *ngIf="tabs == 1">
                <app-editor-libraries></app-editor-libraries>
            </ng-container>
        </div>
        <div class="left-column-tools">
            <app-editor-tools></app-editor-tools>
        </div>
    </div>

    <div class="right-column">
        <!--        <app-map-properties [map]="currentObjectSelected" (mapChange)="updateProperties($event)" *ngIf="currentObjectSelected"></app-map-properties>-->
        <app-konva-brush-properties *ngIf="mouse.state === 'brush' || selectedKonvaObject?.type === 'brush'"></app-konva-brush-properties>
        <app-konva-eraser-properties *ngIf="mouse.state === 'eraser' || selectedKonvaObject?.type === 'eraser'"></app-konva-eraser-properties>
        <app-konva-text-properties *ngIf="mouse.state === 'text' && !selectedKonvaObject"></app-konva-text-properties>
        <app-konva-text-properties *ngIf="selectedKonvaObject?.type === 'text'"></app-konva-text-properties>
        <app-konva-rectangle-properties *ngIf="mouse.state === 'square' && !selectedKonvaObject"></app-konva-rectangle-properties>
        <app-konva-rectangle-properties *ngIf="selectedKonvaObject?.type === 'square'"></app-konva-rectangle-properties>
    </div>
</div>
