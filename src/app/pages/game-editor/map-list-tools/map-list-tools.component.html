<!--TABS 0-->
<div class="content-container">

    <app-map-edit *ngIf="currentMap && tabs === 0 && displayed"
                  [map]="currentMap"
                  (mapModification)="editMap($event)"></app-map-edit>

    <!--  TABS 0  -->
    <div *ngIf="tabs === 0" style="position:relative;">
        <div class="maps-container" dragula="MAPS" [dragulaModel]="maps" (dragulaModelChange)="onDragulaMapsChange($event)">
            <div class="map-box"
                 (mouseleave)="openMapOption = null"
                 *ngFor="let map of maps; let i = index;"
                 [ngClass]="{'selected-map-box' : currentMap === map}"
                 (click)="onSelectMap(map, $event)">

                <div class="map">
                    <app-mini-map *ngIf="map" [map]="map"></app-mini-map>
                    <div class="map-name">
                        <div class="tag" *ngIf="!isEditNameDisplayed" (dblclick)="isEditNameDisplayed = true">
                            {{map?.name}}
                        </div>
                    </div>
                    <app-mini-menu>
                        <div class="menu-item" (click)="deleteMap(map, $event)">Delete</div>
                    </app-mini-menu>
                </div>
            </div>
        </div>
        <!-- ADD NEW -->
        <div class="add-control">
            <img style="margin-left: 20px;" class="cursor-pointer" width="20px" src="assets/svg/add.svg" alt="add" (click)="createMap()">
        </div>
    </div>


    <!--   TABS 1   -->
    <div *ngIf="tabs === 1">
        <div class="item" *ngFor="let obj of currentMap.objects;let i = index">
            <div class="item-content">
                <div>{{obj.state}}</div>
                <div>
                    <img width="16px" src="assets/icons/points.png" alt="options" (click)="toggleObjectOption(obj, i)">
                    <div class="item-options box-shadow" *ngIf="openObjectOption === i">
                        <div class="item" (click)="editObject(obj, $event)">Edit</div>
                        <div class="item" (click)="deleteObject(obj, $event)">Delete</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--   TABS 2   -->
    <div *ngIf="tabs === 2">
        <app-assets-list-tools></app-assets-list-tools>
    </div>
</div>

<!-- FOOTER -->
<div class="footer-tabs">
    <div class="tab" [class.active]="tabs === 0" (click)="tabs = 0;tabsChange.emit(tabs)">
        <img height="25px" src="assets/icons/layout.png" alt="layout">
    </div>
    <div class="tab" [class.active]="tabs === 1" (click)="tabs = 1;tabsChange.emit(tabs)">
        <img height="25px" src="assets/icons/object.png" alt="objects">
    </div>
    <div class="tab" [class.active]="tabs === 2" (click)="tabs = 2;tabsChange.emit(tabs)">
        <img height="25px" src="assets/icons/gallery.png" alt="assets">
    </div>
    <div class="tab" [class.active]="tabs === 3" (click)="tabs = 3;tabsChange.emit(tabs)">
        <img height="25px" src="assets/icons/mouse.png" alt="mouse">
    </div>
</div>
